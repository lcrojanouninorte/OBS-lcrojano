<md-content layout="row" layout-padding layout-align="center">
<div layout="row" flex >
    <div layout="column" flex="60">
        <span ng-class="{strike: vm.product.checkEmpresario==1, bold: vm.important}">{{vm.product.desc}}</span>
        <i class="italic">

        {{vm.product.fecha_inicio}} al {{vm.product.fecha_fin}}
        </i>
        <span>
            <b>{{vm.product.product_wallet_total | currency}} / {{vm.product.total | currency}} </b>
        </span>
    </div>
    <div layout="row" flex>
        <!--
            Servia como check del lado del asesor
        <md-select ng-disabled="vm.hasRole('empresario')" class="color-{{vm.product.checkAsesor}}"  ng-model="vm.product.checkAsesor" ng-change="vm.update()">
        <md-option class="{{state.color}}" ng-repeat="state in vm.statesAsesor" ng-value="state.value">
        {{state.name}}
        </md-option>
        </md-select>
        -->
        <div layout="column" flex>

            <p class="text-center">Actualizado: {{vm.product.updated_at|json}}</p>
            <div layout="row">
                <div flex="90">
                 <md-select  ng-disabled="vm.hasRole('asesor')" class="color-{{vm.product.checkEmpresario}}" ng-model="vm.product.checkEmpresario" ng-change="vm.update()">
            <md-option class="{{state.color}}" ng-repeat="state in vm.statesEmpresario" ng-value="state.value" >
            {{state.name}}

            </md-option>
            </md-select>
            </div>
                <md-icon md-font-icon="ion-help-circled"  ng-click="vm.status_info();"></md-icon>
            </div>
           

           
        </div>
    </div>
    
    <!--
    <div layout="row" flex="20">
        <md-checkbox style="margin-bottom: 0px;" ng-model="vm.product.checkAsesor" ng-change="vm.checkModelAsesor()" aria-label="Checkbox" md-indeterminate="vm.product.checkAsesor === null" flex="100" ng-click="vm.updateCheck()">
        </md-checkbox>
        <md-checkbox style="margin-bottom: 0px;" ng-model="vm.product.checkEmpresario" aria-label="Checkbox"  flex="100" ng-click="vm.updateCheck()">
        </md-checkbox>
    </div>
    -->
</div>
<div  layout="row" layout-align="center right" >
    

<div layout="row">

    <!-- 1. ADD, 2. Edit. -->
    <md-button ng-show="vm.hasRole('asesor')" class="md-icon-button md-mini md-primary" aria-label="Play" ng-click="vm.product_budget_open(vm.id, 1)" style="font-size:12px">
        <md-tooltip md-direction="top">Presupuesto</md-tooltip>
        <md-icon md-font-icon="ion-social-usd " style="font-size:14px"></md-icon>
    </md-button>
    <md-button  class="md-icon-button md-mini md-primary" aria-label="Play" ng-click="vm.product_budget_open(vm.id, 2)" style="font-size:12px">
        <md-tooltip md-direction="top"></md-tooltip>
        <md-icon md-font-icon="ion-calculator" style="font-size:14px"></md-icon>
    </md-button>
    <md-button ng-show="vm.hasRole('asesor')" class="md-icon-button md-mini md-primary" aria-label="Play">
        <md-tooltip md-direction="top">Editar</md-tooltip>
        <md-icon md-font-icon="ion-edit" style="font-size:14px"></md-icon>
    </md-button>
    <md-button ng-show="vm.hasRole('asesor')" class="md-icon-button md-mini md-primary" aria-label="Play" ng-click="vm.delete(item_id)">
        <md-tooltip md-direction="top">Borrar</md-tooltip>
        <md-icon md-font-icon="ion-ios-trash-outline" style="font-size:14px"></md-icon>
    </md-button>
    <!--<md-button class="md-icon-button md-mini md-primary" aria-label="Play" ng-click="vm.view_products = !vm.view_products">
    <md-tooltip md-direction="top">Actividades</md-tooltip>

    <md-icon md-font-icon="ion-chevron-down" style="font-size:14px"></md-icon>
    </md-button>-->
</div>
</div>
</md-content>


<!-- aañdir producto acordeon-->
<div class="products-list fx-fade-normal fx-ease-in-quad" ng-show="vm.view_products"  >
    <md-divider></md-divider>
<actividades-list show="vm.view_products"></actividades-list>
</div>
<md-divider></md-divider>
<!--Modal formulario de creación de proyecto!-->
<script type="text/ng-template" id="BudgetModal.html">

<product-budget users="mvm.users" product="mvm.product" cancel="mvm.cancel()" mode="mvm.mode"></product-budget>

</script>